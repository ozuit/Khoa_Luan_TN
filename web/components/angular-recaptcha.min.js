!function(e){"use strict";e.module("vcRecaptcha",[])}(angular),function(e){"use strict";var t=e.module("vcRecaptcha");t.service("vcRecaptchaService",["$window","$q",function(t,n){function c(){return r?n.when(r):i}function a(){if(!r)throw new Error("reCaptcha has not been loaded yet.")}var r,o=n.defer(),i=o.promise;t.vcRecaptchaApiLoadedCallback=t.vcRecaptchaApiLoadedCallback||[];var u=function(){r=t.grecaptcha,o.resolve(r)};return t.vcRecaptchaApiLoadedCallback.push(u),t.vcRecaptchaApiLoaded=function(){t.vcRecaptchaApiLoadedCallback.forEach(function(e){e()})},e.isDefined(t.grecaptcha)&&u(),{create:function(e,t,n,a){return a.callback=n,a.sitekey=t,c().then(function(t){return t.render(e,a)})},reload:function(e){a(),r.reset(e)},getResponse:function(e){return a(),r.getResponse(e)}}}])}(angular),function(e){"use strict";function t(){throw new Error('You need to set the "key" attribute to your public reCaptcha key. If you don\'t have a key, please get one from https://www.google.com/recaptcha/admin/create')}var n=e.module("vcRecaptcha");n.directive("vcRecaptcha",["$document","$timeout","vcRecaptchaService",function(e,n,c){return{restrict:"A",require:"?^^form",scope:{response:"=?ngModel",key:"=",stoken:"=?",theme:"=?",size:"=?",type:"=?",tabindex:"=?",required:"=?",onCreate:"&",onSuccess:"&",onExpire:"&"},link:function(a,r,o,i){function u(){i&&i.$setValidity("recaptcha",null),s()}function d(){a.response="",l(),a.onExpire({widgetId:a.widgetId})}function l(){i&&i.$setValidity("recaptcha",a.required===!1?null:Boolean(a.response))}function s(){angular.element(e[0].querySelectorAll(".pls-container")).parent().remove()}o.hasOwnProperty("key")||t(),a.widgetId=null,i&&angular.isDefined(o.required)&&a.$watch("required",l);var p=a.$watch("key",function(e){if(e){40!==e.length&&t();var i=function(e){n(function(){a.response=e,l(),a.onSuccess({response:e,widgetId:a.widgetId})})};c.create(r[0],e,i,{stoken:a.stoken||o.stoken||null,theme:a.theme||o.theme||null,type:a.type||o.type||null,tabindex:a.tabindex||o.tabindex||null,size:a.size||o.size||null,"expired-callback":d}).then(function(e){l(),a.widgetId=e,a.onCreate({widgetId:e}),a.$on("$destroy",u)}),p()}})}}}])}(angular);